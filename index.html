<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>frame.899 — media & light systems</title>
<meta name="description" content="frame.899 — poetic multimedia installations & light systems."/>
<style>
:root{
  --bg:#0b0b0b; --fg:#e9e9e9; --muted:#a6a6a6; --rule:#1a1a1a;
  --glass-bg:rgba(10,10,12,.28); --glass-brd:rgba(255,255,255,.1);
  --max:1120px; --icon:40px; --icon-m:36px;
}
*{box-sizing:border-box}
html,body{margin:0;background:var(--bg);color:var(--fg);font-family:Inter,system-ui,Segoe UI,Arial,sans-serif;line-height:1.6;-webkit-font-smoothing:antialiased}
a{color:var(--fg);text-decoration:none}
.wrap{max-width:var(--max);margin:0 auto;padding:32px 20px}
header,footer{display:flex;align-items:center;justify-content:space-between;gap:16px}
.logo{font-weight:700} .logo b{font-weight:800}
.kicker{font-size:12px;color:var(--muted);letter-spacing:.1em;text-transform:uppercase}
h1{font-size:36px;margin:.25rem 0}
.lead{color:var(--muted);max-width:820px;margin:8px 0 24px}

/* HERO */
.slider{position:relative;overflow:hidden;border-radius:16px;border:1px solid var(--rule)}
.slides{display:flex;transition:transform .4s ease}
.slide{min-width:100%;height:62vw;max-height:560px;position:relative;display:flex;align-items:flex-end;background:#0d0d0f}
.slide img{position:absolute;inset:0;width:100%;height:100%;object-fit:cover}
.slide .meta{position:absolute;left:20px;bottom:20px;padding:10px 12px;border-radius:12px;
  background:rgba(0,0,0,.35);backdrop-filter:blur(10px);border:1px solid var(--glass-brd)}
.slide h3{margin:0;font-size:18px}
.slide p{margin:4px 0 0;color:#d0d0d0;font-size:14px}
.hnav{position:absolute;inset:0;display:flex;align-items:center;justify-content:space-between;pointer-events:none}
.iconbtn{pointer-events:auto;background:rgba(0,0,0,.45);border:1px solid rgba(255,255,255,.2);
  width:var(--icon);height:var(--icon);border-radius:50%;cursor:pointer;display:flex;align-items:center;justify-content:center}
.icon{width:24px;height:24px;stroke:#eee;fill:none;stroke-width:1.75;stroke-linecap:round;stroke-linejoin:round}
.dots{display:flex;gap:8px;justify-content:center;margin:12px 0 0}
.dots button{width:8px;height:8px;border-radius:50%;border:0;background:#3a3a3a;cursor:pointer}
.dots button.active{background:#e5e5e5}

/* GRID */
section{padding:28px 0;border-top:1px solid var(--rule)}
h2{font-size:18px;letter-spacing:.08em;text-transform:uppercase;margin:0 0 18px;color:#eaeaea}
.grid{display:grid;grid-template-columns:repeat(2,1fr);gap:20px}
.card{border:1px solid var(--glass-brd);border-radius:14px;overflow:hidden;background:var(--glass-bg);backdrop-filter:blur(8px) saturate(140%);cursor:pointer}
.thumb{aspect-ratio:16/10;position:relative}
.thumb img{position:absolute;inset:0;width:100%;height:100%;object-fit:cover}
.meta2{padding:12px;color:#cfcfcf}

/* MODAL */
#overlay{
  position:fixed;inset:0;background:rgba(8,8,10,.55); /* затемнение, БЕЗ blur */
  display:none;z-index:50;
}
#overlay.show{display:block}
.modal{
  position:relative;width:90vw;max-width:1400px;height:90vh;margin:5vh auto;border-radius:18px;
  border:1px solid var(--glass-brd);overflow:hidden;display:grid;grid-template-columns:1.4fr 1fr;background:var(--glass-bg);
}
/* blur ТОЛЬКО под модалкой */
.modal::before{
  content:"";position:absolute;inset:0;backdrop-filter:blur(14px) saturate(160%);pointer-events:none;z-index:0;
}
.m-close,.m-nav .prev,.m-nav .next,.fs-btn{
  background:rgba(0,0,0,.45);border:1px solid rgba(255,255,255,.22);
  width:var(--icon);height:var(--icon);border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;z-index:3;
}
.m-close{position:absolute;top:10px;right:12px}
.m-media{position:relative;background:#0a0a0a;z-index:1}
.viewport{
  position:relative;width:100%;height:100%;
  padding:60px 0 64px; /* карманы под ⛶ и точки справа не мешают медиа */
  display:flex;align-items:center;justify-content:center;background:#0a0a0a;
}
.viewport img,.viewport video{
  max-width:100%;max-height:100%;width:auto;height:auto;object-fit:contain;background:#000;display:block;
}
.m-nav{position:absolute;top:50%;left:0;right:0;transform:translateY(-50%);display:flex;justify-content:space-between;padding:0 10px;z-index:2}
.fs-btn{position:absolute;bottom:10px;right:12px}

.m-meta{position:relative;padding:20px;overflow:auto;display:flex;flex-direction:column;gap:10px;z-index:1}
.m-meta h3{margin:0 0 6px}
.m-sub{margin:0 0 6px;color:#bdbdbd;font-size:14px}
.m-desc,.m-stmt{color:#e0e0e0;font-size:15px}
.m-thumbs{display:flex;gap:10px;overflow-x:auto;padding-top:6px}
.m-thumbs button{width:86px;height:58px;border:1px solid var(--glass-brd);border-radius:6px;overflow:hidden;background:#111;cursor:pointer;flex:0 0 auto}
.m-thumbs img{width:100%;height:100%;object-fit:cover;display:block}
.m-thumbs .is-active{outline:2px solid #e5e5e5}
.m-dots{display:flex;justify-content:center;gap:8px;margin-top:8px}
.m-dots button{width:8px;height:8px;border-radius:50%;border:0;background:#3a3a3a;cursor:pointer}
.m-dots .active{background:#e5e5e5}

/* ABOUT */
.about{display:grid;grid-template-columns:1fr 1fr;gap:20px}
@media (max-width:900px){
  .grid,.about{grid-template-columns:1fr}
  .iconbtn,.m-close,.fs-btn{width:var(--icon-m);height:var(--icon-m)}
}
</style>
</head>
<body>
<div class="wrap">
  <header>
    <div class="logo">frame<b>899</b></div>
    <nav>
      <a href="#projects">Projects</a>
      <a href="#collabs">Collabs</a>
      <a href="#about">About</a>
    </nav>
  </header>

  <main>
    <div class="hero">
      <div class="kicker">media & light systems</div>
      <h1>Projects at the edge of art, tech and light</h1>
      <p class="lead">Visual first; details and team below.</p>

      <!-- HERO -->
      <div class="slider">
        <div class="slides" id="slides"></div>
        <div class="hnav">
          <button id="hPrev" class="iconbtn" aria-label="Previous">
            <svg class="icon" viewBox="0 0 24 24"><path d="M15 18l-6-6 6-6"/></svg>
          </button>
          <button id="hNext" class="iconbtn" aria-label="Next">
            <svg class="icon" viewBox="0 0 24 24"><path d="M9 6l6 6-6 6"/></svg>
          </button>
        </div>
        <div class="dots" id="hdots" aria-label="hero pagination"></div>
      </div>
    </div>

    <!-- PROJECTS -->
    <section id="projects">
      <h2>Projects</h2>
      <div class="grid" id="grid-projects"></div>
    </section>

    <!-- COLLABS -->
    <section id="collabs">
      <h2>Collabs</h2>
      <div class="grid" id="grid-collabs"></div>
    </section>

    <!-- ABOUT -->
    <section id="about">
      <h2>About</h2>
      <div class="about">
        <div>
          <h3>Kristina Kubrina</h3>
          <p>
            Production director & media artist (Cyprus). Experience includes FIFA World Cup (Closing),
            AFC Asian Cup (Opening), The Weeknd tour, Robert Wun, Phillip Lim, Milan Design Week.
            Blends artistic vision with production rigor: visual systems, site adaptation, and show planning.
          </p>
        </div>
        <div>
          <h3>Ivan Maksimov</h3>
          <p>
            CG artist & architect. Spatial visualization, scene readability, integration of media into architecture.
            Focus on interactivity and light-based installations.
          </p>
        </div>
      </div>
    </section>
  </main>
</div>

<!-- MODAL -->
<div id="overlay" aria-hidden="true">
  <div class="modal" role="dialog" aria-modal="true" aria-labelledby="m-title">
    <button class="m-close" aria-label="Close">
      <svg class="icon" viewBox="0 0 24 24"><path d="M6 6l12 12M6 18l12-12"/></svg>
    </button>

    <div class="m-media">
      <div class="viewport"></div>
      <div class="m-nav">
        <button class="prev" aria-label="Previous">
          <svg class="icon" viewBox="0 0 24 24"><path d="M15 18l-6-6 6-6"/></svg>
        </button>
        <button class="next" aria-label="Next">
          <svg class="icon" viewBox="0 0 24 24"><path d="M9 6l6 6-6 6"/></svg>
        </button>
      </div>
      <button class="fs-btn" id="fsBtn" title="Fullscreen">
        <!-- ровный maximize-икон -->
        <svg class="icon" viewBox="0 0 24 24"><path d="M4 9V4h5M20 9V4h-5M4 15v5h5M20 15v5h-5"/></svg>
      </button>
    </div>

    <div class="m-meta">
      <h3 id="m-title"></h3>
      <p class="m-sub"></p>
      <div class="m-desc"></div>
      <div class="m-stmt"></div>
      <div class="m-thumbs" id="thumbs"></div>
      <div class="m-dots" id="mdots"></div>
    </div>
  </div>
</div>

<script>
/* ===== DATA (PNG only; hero covers strict names) ===== */
const PROJECTS = {
  mycy:  { title:"My Cyprus Walk",
           sub:"2025 · Cyprus · iPad/WebGL",
           desc:"Interactive digital walk about memory and adaptation.",
           stmt:"Memory keeps fragments; we translate them into a digital simulation.",
           folder:"mycy", count:9, video:null, collab:false },
  flora: { title:"Cyprus Flora Series. 00 Anemóne coronária",
           sub:"2025 · Cyprus · video series",
           desc:"Endemic flora series; this chapter focuses on Anemóne coronária.",
           stmt:"Nature as a subject that returns the gaze.",
           folder:"anem", count:9, video:null, collab:false },
  water: { title:"Water Spirits — White Rocks",
           sub:"2025 · Limassol · outdoor projection",
           desc:"Projection on limestone near the sea; a 5-min sketch.",
           stmt:"Sea as a spirit: comforting and unsettling.",
           folder:"waspi", count:4, video:"assets/images/waspiedit.mp4", collab:false },
  trace: { title:"Trace × Kolla",
           sub:"2025 · Limassol · collaboration",
           desc:"Participatory installation about shared memory.",
           stmt:"A living archive built by visitors.",
           folder:"trace", count:9, video:null, collab:true },
  tri:   { title:"Trinitron Connect (with Anya Krow)",
           sub:"2025 · Moscow · gallery installation",
           desc:"Digital avatar reacting to gestures and phones.",
           stmt:"Meeting a digital double.",
           folder:"tri", count:7, video:null, collab:true }
};

function buildMedia(){
  for(const k in PROJECTS){
    const p = PROJECTS[k];
    p.hero = `assets/images/${p.folder}00image.png`; // strict hero cover
    p.media = [];
    for(let i=0;i<p.count;i++){
      const n = String(i).padStart(2,'0');
      p.media.push({type:'img', src:`assets/images/${p.folder}${n}.png`});
    }
    if(p.video){ p.media.splice(1,0,{type:'video', src:p.video}); }
  }
}
buildMedia();

/* ===== HERO (loop, no desktop drag) ===== */
function buildHero(){
  const slides = document.getElementById('slides');
  const hdots  = document.getElementById('hdots');
  const order = ['mycy','flora','water','trace','tri'];
  slides.innerHTML = ''; hdots.innerHTML='';

  order.forEach((id,i)=>{
    const p = PROJECTS[id];
    const a = document.createElement('article');
    a.className='slide'; a.dataset.project=id;

    const img = document.createElement('img');
    img.src = p.hero;
    img.onerror = ()=>{ img.onerror=null; img.src = p.media[0]?.src || ''; }; // fallback на первый кадр
    a.appendChild(img);

    const meta = document.createElement('div'); meta.className='meta';
    meta.innerHTML = `<h3>${p.title}</h3><p>${p.sub}</p>`;
    a.appendChild(meta);

    slides.appendChild(a);

    const d=document.createElement('button');
    if(i===0) d.classList.add('active');
    d.onclick=()=>goTo(i);
    hdots.appendChild(d);
  });

  let idx=0, N=order.length;
  function update(){
    slides.style.transform = `translateX(${-idx*100}%)`;
    [...hdots.children].forEach((b,i)=>b.classList.toggle('active', i===idx));
  }
  function goTo(i){ idx = ((i%N)+N)%N; update(); }
  function prev(){ goTo(idx-1); }
  function next(){ goTo(idx+1); }

  document.getElementById('hPrev').onclick = prev;
  document.getElementById('hNext').onclick = next;

  // swipe only on touch devices
  if (matchMedia('(pointer:coarse)').matches) {
    let sx=0,cx=0,drag=false;
    slides.addEventListener('touchstart',e=>{drag=true;sx=e.touches[0].clientX;cx=sx;},{passive:true});
    slides.addEventListener('touchmove', e=>{if(!drag)return;cx=e.touches[0].clientX;},{passive:true});
    slides.addEventListener('touchend',  ()=>{if(!drag)return; const dx=cx-sx; drag=false; if(Math.abs(dx)>40){ dx<0?next():prev(); }},{passive:true});
  }

  // open modal
  slides.querySelectorAll('.slide').forEach(el=>el.addEventListener('click',()=>openModal(el.dataset.project)));

  update();
}
buildHero();

/* ===== GRIDS ===== */
function buildGrids(){
  const gp = document.getElementById('grid-projects');
  const gc = document.getElementById('grid-collabs');
  gp.innerHTML=''; gc.innerHTML='';

  for(const k in PROJECTS){
    const p = PROJECTS[k];
    const card = document.createElement('article');
    card.className='card'; card.dataset.project=k;
    card.innerHTML = `
      <div class="thumb"><img src="${p.hero}" onerror="this.src='${p.media[0]?.src || ''}'" alt=""></div>
      <div class="meta2"><h3>${p.title}</h3><p>${p.sub}</p></div>
    `;
    (p.collab?gc:gp).appendChild(card);
    card.addEventListener('click',()=>openModal(k));
  }
}
buildGrids();

/* ===== MODAL ===== */
const overlay = document.getElementById('overlay');
const viewport= overlay.querySelector('.viewport');
const mTitle  = overlay.querySelector('#m-title');
const mSub    = overlay.querySelector('.m-sub');
const mDesc   = overlay.querySelector('.m-desc');
const mStmt   = overlay.querySelector('.m-stmt');
const thumbs  = overlay.querySelector('#thumbs');
const mdots   = overlay.querySelector('#mdots');
const mPrev   = overlay.querySelector('.m-nav .prev');
const mNext   = overlay.querySelector('.m-nav .next');
const mClose  = overlay.querySelector('.m-close');
const fsBtn   = document.getElementById('fsBtn');

let current=null, index=0;

function renderMedia(){
  viewport.innerHTML='';
  if(!current) return;
  const it = current.media[index];
  if(!it) return;

  if(it.type==='img'){
    const im = document.createElement('img');
    im.src = it.src;
    viewport.appendChild(im);
  } else {
    const v = document.createElement('video');
    v.src = it.src; v.controls = true; v.playsInline = true;
    viewport.appendChild(v);
  }

  // sync thumbs + dots
  [...thumbs.children].forEach((b,i)=>b.classList.toggle('is-active', i===index));
  [...mdots.children].forEach((b,i)=>b.classList.toggle('active', i===index));
}

function renderThumbsDots(){
  thumbs.innerHTML=''; mdots.innerHTML='';
  current.media.forEach((m,i)=>{
    const b=document.createElement('button');
    if(m.type==='img'){ const t=document.createElement('img'); t.src=m.src; b.appendChild(t); }
    b.onclick=()=>{ index=i; renderMedia(); };
    thumbs.appendChild(b);

    const d=document.createElement('button');
    if(i===index) d.classList.add('active');
    d.onclick=()=>{ index=i; renderMedia(); };
    mdots.appendChild(d);
  });
}

function openModal(id){
  current = PROJECTS[id]; index=0;
  mTitle.textContent = current.title;
  mSub.textContent   = current.sub;
  mDesc.textContent  = current.desc;
  mStmt.textContent  = current.stmt;
  renderThumbsDots();
  renderMedia();
  overlay.classList.add('show');
  overlay.setAttribute('aria-hidden','false');
}
function closeModal(){
  overlay.classList.remove('show');
  overlay.setAttribute('aria-hidden','true');
  viewport.innerHTML=''; thumbs.innerHTML=''; mdots.innerHTML='';
  current=null;
}

mPrev.addEventListener('click', ()=>{ if(!current) return; index=(index-1+current.media.length)%current.media.length; renderMedia(); });
mNext.addEventListener('click', ()=>{ if(!current) return; index=(index+1)%current.media.length; renderMedia(); });
mClose.addEventListener('click', closeModal);
overlay.addEventListener('click', (e)=>{ if(e.target===overlay) closeModal(); });
document.addEventListener('keydown', (e)=>{ if(!overlay.classList.contains('show')) return;
  if(e.key==='Escape') closeModal();
  if(e.key==='ArrowLeft')  mPrev.click();
  if(e.key==='ArrowRight') mNext.click();
});

/* swipe inside modal ONLY on touch */
if (matchMedia('(pointer:coarse)').matches) {
  let sx=0,cx=0,drag=false;
  viewport.addEventListener('touchstart',e=>{drag=true;sx=e.touches[0].clientX;cx=sx;},{passive:true});
  viewport.addEventListener('touchmove', e=>{if(!drag)return;cx=e.touches[0].clientX;},{passive:true});
  viewport.addEventListener('touchend',  ()=>{if(!drag)return; const dx=cx-sx; drag=false; if(Math.abs(dx)>40){ dx<0?mNext.click():mPrev.click(); }},{passive:true});
}

/* Fullscreen on media area (icons stay fixed sizes) */
fsBtn.addEventListener('click', ()=>{
  const el = overlay.querySelector('.m-media');
  if(!document.fullscreenElement){ el.requestFullscreen?.(); }
  else{ document.exitFullscreen?.(); }
});
</script>
</body>
</html>
